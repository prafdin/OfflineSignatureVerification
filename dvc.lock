schema: '2.0'
stages:
  prepare:
    cmd: python src\prepare.py data\CEDAR data\prepared\dataset.pkl
    deps:
    - path: data\CEDAR\
      hash: md5
      md5: 64943e6c8ef4ae9a2be354bb49d56102.dir
      size: 252256693
      nfiles: 2640
    - path: src\prepare.py
      hash: md5
      md5: db5e13e3a09dcd285a84056feaee2e79
      size: 2455
    params:
      params.yaml:
        prepare.fixed_size: 400,600
        prepare.mode: thinned
    outs:
    - path: data\prepared\dataset.pkl
      hash: md5
      md5: 11ae776d33e80d238cc63fb35e028518
      size: 316861522
  featurize:
    cmd: python src\featurize.py data\prepared\dataset.pkl data\features\dataset.pkl
    deps:
    - path: data\prepared\dataset.pkl
      hash: md5
      md5: 11ae776d33e80d238cc63fb35e028518
      size: 316861522
    - path: src\featurize.py
      hash: md5
      md5: e4e5203d68a6f2ece02c5d744e85c7f7
      size: 1636
    params:
      params.yaml:
        featurization.method: hog
    outs:
    - path: data\features\dataset.pkl
      hash: md5
      md5: 3cddf0f0198083f476a2292a4740f942
      size: 78195624
  split:
    cmd: python src\split.py data\features\dataset.pkl data\splitted\train.pt data\splitted\test.pt
    deps:
    - path: data\features\dataset.pkl
      hash: md5
      md5: 3cddf0f0198083f476a2292a4740f942
      size: 78195624
    - path: src\split.py
      hash: md5
      md5: 6a404e9c7e7e7a6bae06a2afbf7a5c5b
      size: 1549
    params:
      params.yaml:
        split.salt: 44
    outs:
    - path: data\splitted\test.pt
      hash: md5
      md5: 40b7aa575c83f5f9a977ab966bf06a11
      size: 80347412
    - path: data\splitted\train.pt
      hash: md5
      md5: 18c275beb2be0985a093bfc7a5bdd89a
      size: 80345944
  eval:
    cmd: python src\eval.py data\splitted\train.pt data\splitted\test.pt
    deps:
    - path: data\splitted\test.pt
      hash: md5
      md5: 40b7aa575c83f5f9a977ab966bf06a11
      size: 80347412
    - path: data\splitted\train.pt
      hash: md5
      md5: 18c275beb2be0985a093bfc7a5bdd89a
      size: 80345944
    - path: src\eval.py
      hash: md5
      md5: 5e1bf4725b730b2d38aee8294c6e4033
      size: 2795
    params:
      params.yaml:
        eval.knn:
          k: 3
          metric: BHATTACHARYYA
        eval.use_cls: knn
    outs:
    - path: eval
      hash: md5
      md5: 4e4231ed35ae12df9218458733ddb8f7.dir
      size: 79
      nfiles: 2
