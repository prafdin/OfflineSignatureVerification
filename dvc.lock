schema: '2.0'
stages:
  prepare:
    cmd: python src\prepare.py data\CEDAR data\prepared\dataset.pkl
    deps:
    - path: data\CEDAR\
      hash: md5
      md5: 64943e6c8ef4ae9a2be354bb49d56102.dir
      size: 252256693
      nfiles: 2640
    - path: src\prepare.py
      hash: md5
      md5: db5e13e3a09dcd285a84056feaee2e79
      size: 2455
    params:
      params.yaml:
        prepare.fixed_size: 400,600
        prepare.mode: default
    outs:
    - path: data\prepared\dataset.pkl
      hash: md5
      md5: 73c252527740a3078c1b335f086b3529
      size: 316861522
  featurize:
    cmd: python src\featurize.py data\prepared\dataset.pkl data\features\dataset.pkl
    deps:
    - path: data\prepared\dataset.pkl
      hash: md5
      md5: 73c252527740a3078c1b335f086b3529
      size: 316861522
    - path: src\featurize.py
      hash: md5
      md5: e4e5203d68a6f2ece02c5d744e85c7f7
      size: 1636
    params:
      params.yaml:
        featurization.method: hog
    outs:
    - path: data\features\dataset.pkl
      hash: md5
      md5: 257025f9a79a0109d97f3276a1c13630
      size: 78195624
  split:
    cmd: python src\split.py data\features\dataset.pkl data\splitted\train.pt data\splitted\test.pt
    deps:
    - path: data\features\dataset.pkl
      hash: md5
      md5: 257025f9a79a0109d97f3276a1c13630
      size: 78195624
    - path: src\split.py
      hash: md5
      md5: 31d9ac88352258ad88a28e6590562489
      size: 1697
    params:
      params.yaml:
        split.salt: 44
    outs:
    - path: data\splitted\test.pt
      hash: md5
      md5: ca6a7f9819d8e94e80465c7180ff9fbd
      size: 82422548
    - path: data\splitted\train.pt
      hash: md5
      md5: a1e0786951afe1fc9bd5653118b38cf3
      size: 82420696
  eval:
    cmd: python src\eval.py data\splitted\train.pt data\splitted\test.pt
    deps:
    - path: data\splitted\test.pt
      hash: md5
      md5: ca6a7f9819d8e94e80465c7180ff9fbd
      size: 82422548
    - path: data\splitted\train.pt
      hash: md5
      md5: a1e0786951afe1fc9bd5653118b38cf3
      size: 82420696
    - path: src\eval.py
      hash: md5
      md5: 5e1bf4725b730b2d38aee8294c6e4033
      size: 2795
    params:
      params.yaml:
        eval.knn:
          k: 5
          metric: BHATTACHARYYA
        eval.use_cls: knn
    outs:
    - path: eval
      hash: md5
      md5: 3a9bcc7b4819089924e84121c5e02a15.dir
      size: 79
      nfiles: 2
