schema: '2.0'
stages:
  prepare:
    cmd: python src\prepare.py data\CEDAR data\prepared\dataset.pkl
    deps:
    - path: data\CEDAR\
      hash: md5
      md5: 64943e6c8ef4ae9a2be354bb49d56102.dir
      size: 252256693
      nfiles: 2640
    - path: src\prepare.py
      hash: md5
      md5: db1018d54bea362c4956ac1bea54f929
      size: 2570
    params:
      params.yaml:
        prepare.fixed_size: 600,800
        prepare.mode: default
    outs:
    - path: data\prepared\dataset.pkl
      hash: md5
      md5: fc17b9ffd82dd2cd867c7cf4bc6b929d
      size: 633661522
  featurize:
    cmd: python src\featurize.py data\prepared\dataset.pkl data\features\dataset.pkl
    deps:
    - path: data\prepared\dataset.pkl
      hash: md5
      md5: fc17b9ffd82dd2cd867c7cf4bc6b929d
      size: 633661522
    - path: src\featurize.py
      hash: md5
      md5: e4e5203d68a6f2ece02c5d744e85c7f7
      size: 1636
    params:
      params.yaml:
        featurization.method: hog
    outs:
    - path: data\features\dataset.pkl
      hash: md5
      md5: 02e114c05f773d097df1a43076c4a66f
      size: 156345564
  split:
    cmd: python src\split.py data\features\dataset.pkl data\splitted\train.pt data\splitted\test.pt
    deps:
    - path: data\features\dataset.pkl
      hash: md5
      md5: 02e114c05f773d097df1a43076c4a66f
      size: 156345564
    - path: src\split.py
      hash: md5
      md5: 31d9ac88352258ad88a28e6590562489
      size: 1697
    params:
      params.yaml:
        split.salt: 44
    outs:
    - path: data\splitted\test.pt
      hash: md5
      md5: 81ce2946df039da57aba179210a70a36
      size: 168856340
    - path: data\splitted\train.pt
      hash: md5
      md5: 4aafcfb67818b714dd7b7d36208a1456
      size: 168856344
  eval:
    cmd: python src\eval.py data\splitted\train.pt data\splitted\test.pt
    deps:
    - path: data\splitted\test.pt
      hash: md5
      md5: 81ce2946df039da57aba179210a70a36
      size: 168856340
    - path: data\splitted\train.pt
      hash: md5
      md5: 4aafcfb67818b714dd7b7d36208a1456
      size: 168856344
    - path: src\eval.py
      hash: md5
      md5: 5e1bf4725b730b2d38aee8294c6e4033
      size: 2795
    params:
      params.yaml:
        eval.knn:
          k: 6
          metric: BHATTACHARYYA
        eval.use_cls: knn
    outs:
    - path: eval
      hash: md5
      md5: 4c15389a1e38609881a4f417ac2e73de.dir
      size: 79
      nfiles: 2
